<html>
  <head>
    <style type="text/css">
    div#data {
        visibility: hidden
    }
    </style>
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">

      // Load the Visualization API and the piechart package.
      google.load('visualization', '1.0', {'packages':['corechart']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.setOnLoadCallback(drawChart);

      // Callback that creates and populates a data table,
      // instantiates the pie chart, passes in the data and
      // draws it.
      function drawChart() {

        // Create the data table.
        var arr = histoToDataSeries(document.querySelector("div#data").innerHTML.trim());
        var data = google.visualization.arrayToDataTable(arr);


        var ticks =
          [{v:1,f:'0%'},
           {v:10,f:'90%'},
           {v:100,f:'99%'},
           {v:1000,f:'99.9%'},
           {v:10000,f:'99.99%'},
           {v:100000,f:'99.999%'},
           {v:1000000,f:'99.9999%'}];

        var options = {
          title: 'Histogram',
          height: 480,
          hAxis: {title: 'Percentile', minValue: 0, logScale: true, ticks:ticks },
          vAxis: {title: 'Latency', minValue: 0 },
          legend: 'none'
        };

        var chart = new google.visualization.LineChart(document.getElementById('chart_div'));

        chart.draw(data, options);
      }
    </script>
    <script type="text/javascript">

        function isNumeric(s) {
          return  !isNaN
        }

        // histoToDataSeries(document.querySelector("div#data").innerHTML.trim())
        function histoToDataSeries(histo) {
          var arr = [['X', 'Y']];

          var lines = histo.split("\n");

          for (var i = 0; i < lines.length; i++) {
            var line = lines[i].trim();
            var values = line.trim().split(/[ ]+/);

            if (line[0] != '#' && values.length == 4) {

              var y = parseFloat(values[0]);
              var x = parseFloat(values[3]);

              if (!isNaN(x) && !isNaN(y)) {
                arr.push([x, y])
              }
            }
          }

          return arr;
        }
    </script>
  </head>

  <body>
    <!--Div that will hold the pie chart-->
    <div id="chart_div"></div>
    <div id="data">
       Value   Percentile   TotalCount 1/(1-Percentile)
      16.000     0.000000            1         1.00
     980.000     0.100000        47530         1.11
    3609.000     0.200000        95042         1.25
    6783.000     0.300000       142539         1.43
    9183.000     0.400000       190154         1.67
   11167.000     0.500000       237581         2.00
   12295.000     0.550000       261367         2.22
   13759.000     0.600000       285105         2.50
   15375.000     0.650000       308930         2.86
   16703.000     0.700000       332844         3.33
   18639.000     0.750000       356366         4.00
   19951.000     0.775000       368356         4.44
   21951.000     0.800000       380158         5.00
   24559.000     0.825000       391991         5.71
   28095.000     0.850000       403848         6.67
   32591.000     0.875000       415744         8.00
   35743.000     0.887500       421673         8.89
   40671.000     0.900000       427627        10.00
   47423.000     0.912500       433573        11.43
   56895.000     0.925000       439503        13.33
   80639.000     0.937500       445415        16.00
   97023.000     0.943750       448385        17.78
  127231.000     0.950000       451374        20.00
  133887.000     0.956250       454341        22.86
  138623.000     0.962500       457329        26.67
  143231.000     0.968750       460283        32.00
  145919.000     0.971875       461775        35.56
  149247.000     0.975000       463239        40.00
  153855.000     0.978125       464725        45.71
  159103.000     0.981250       466207        53.33
  165247.000     0.984375       467687        64.00
  171647.000     0.985938       468439        71.11
  179967.000     0.987500       469178        80.00
  190591.000     0.989062       469916        91.43
  206207.000     0.990625       470658       106.67
  231551.000     0.992188       471407       128.00
  252799.000     0.992969       471771       142.22
  257023.000     0.993750       472143       160.00
  261759.000     0.994531       472547       182.86
  263423.000     0.995313       472887       213.33
  269055.000     0.996094       473274       256.00
  272383.000     0.996484       473441       284.44
  289023.000     0.996875       473627       320.00
  311551.000     0.997266       473819       365.71
  367359.000     0.997656       474009       426.67
  540159.000     0.998047       474186       512.00
  713727.000     0.998242       474274       568.89
  999935.000     0.998437       474367       640.00
 1164287.000     0.998633       474461       731.43
 1229823.000     0.998828       474554       853.33
 1260543.000     0.999023       474647      1024.00
 1273855.000     0.999121       474693      1137.78
 1284095.000     0.999219       474743      1280.00
 1291263.000     0.999316       474785      1462.86
 1302527.000     0.999414       474836      1706.67
 1318911.000     0.999512       474878      2048.00
 1332223.000     0.999561       474901      2275.56
 1373183.000     0.999609       474924      2560.00
 1420287.000     0.999658       474947      2925.71
 1707007.000     0.999707       474970      3413.33
 3104767.000     0.999756       474994      4096.00
 3653631.000     0.999780       475005      4551.11
 5152767.000     0.999805       475017      5120.00
 5660671.000     0.999829       475030      5851.43
 5967871.000     0.999854       475040      6826.67
 6840319.000     0.999878       475052      8192.00
 6873087.000     0.999890       475067      9102.22
 6873087.000     0.999902       475067     10240.00
 7028735.000     0.999915       475069     11702.86
 7237631.000     0.999927       475075     13653.33
 7663615.000     0.999939       475081     16384.00
 7700479.000     0.999945       475083     18204.44
 7991295.000     0.999951       475086     20480.00
 8200191.000     0.999957       475090     23405.71
 8273919.000     0.999963       475092     27306.67
 8445951.000     0.999969       475096     32768.00
 8445951.000     0.999973       475096     36408.89
 8454143.000     0.999976       475102     40960.00
 8454143.000     0.999979       475102     46811.43
 8454143.000     0.999982       475102     54613.33
 8454143.000     0.999985       475102     65536.00
 8470527.000     0.999986       475103     72817.78
 9068543.000     0.999988       475106     81920.00
 9068543.000     0.999989       475106     93622.86
 9068543.000     0.999991       475106    109226.67
 9068543.000     0.999992       475106    131072.00
 9068543.000     0.999993       475106    145635.56
 9199615.000     0.999994       475107    163840.00
 9199615.000     0.999995       475107    187245.71
 9199615.000     0.999995       475107    218453.33
 9420799.000     0.999996       475108    262144.00
 9420799.000     0.999997       475108    291271.11
 9420799.000     0.999997       475108    327680.00
 9420799.000     0.999997       475108    374491.43
 9420799.000     0.999998       475108    436906.67
 9428991.000     0.999998       475109    524288.00
 9428991.000     1.000000       475109          inf
#[Mean    =    25048.210, StdDeviation   =   120097.522]
#[Max     =  9420800.000, Total count    =       475109]
#[Buckets =           27, SubBuckets     =         2048]
    </div>
  </body>
</html>